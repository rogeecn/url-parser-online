# URL Parser Online - 在线 URL 解析工具

## 项目概述

一个功能完善的在线 URL 解析工具，提供直观的界面来分析和理解 URL 的各个组成部分，同时普及 HTTP 相关知识。

## 核心功能需求

### 1. URL 解析功能

- **输入验证**：支持各种 URL 格式验证（HTTP/HTTPS/FTP 等）
- **实时解析**：用户输入 URL 后实时显示解析结果,对于输入多个 URL 的解析，支持批量解析和实时更新结果。
- **组件展示**：清晰展示 URL 的各个组成部分
  - **协议(Protocol)**：http, https, ftp 等
  - **主机(Host)**：域名或 IP 地址
  - **端口(Port)**：显式或默认端口
  - **路径(Path)**：资源路径
  - **查询参数(Query)**：参数键值对展示
  - **片段标识符(Fragment)**：锚点或哈希值
  - **用户信息(UserInfo)**：用户名密码（如有）

#### 2. 单页面设计约束 ⚠️

- **禁用弹出层**：所有功能必须在单个 HTML 页面内完成，严禁使用任何形式的弹出层（modal、dialog、popup 等）
- **内联展示**：所有交互内容（历史记录、对比结果、设置面板等）必须在主页面内以内联方式展示
- **折叠面板设计**：使用可折叠的区域来组织不同功能模块，保持页面整洁
- **侧边栏布局**：采用侧边栏或标签页切换来展示不同功能区域
- **状态提示内联**：错误提示、成功反馈等都在页面内相应位置显示，不使用 alert 或 toast 弹出

### 3. 历史记录和对比功能

- **本地存储**：使用 localStorage 自动保存解析过的 URL 历史记录
- **历史管理**：
  - 显示最近解析的 URL 列表（默认保存最近 50 条）
  - 支持按时间排序和搜索过滤
  - 提供清空历史记录功能
  - 支持单条或批量删除历史记录
- **快速选择**：点击历史记录中的 URL 快速重新解析
- **对比功能**：
  - 选择历史记录中的 URL 与当前 URL 进行结构对比
  - 支持多个 URL 同时对比（最多 3 个）
  - 高亮显示差异部分（协议、主机、端口、路径、查询参数等）
  - 提供对比结果的可视化展示
- **数据导出**：
  - 支持导出历史记录为 JSON 格式
  - 支持导出对比结果报告
- **隐私保护**：
  - 提供隐私模式，不保存包含敏感信息的 URL
  - 支持手动标记敏感 URL 不进入历史记录

### 4. SEO 优化策略

- **语义化 HTML**：使用合适的 HTML 标签和结构
- **Meta 标签优化**：title, description, keywords 等
- **Open Graph**：社交媒体分享优化
- **结构化数据**：Schema.org 标记
- **多语言 URL**：支持 hreflang 标记
- **页面性能**：快速加载，Core Web Vitals 优化
- **静态 HTML 渲染**：✅ 所有页面功能使用 HTML 静态渲染，禁用 JS 动态渲染，确保 SEO 友好

### 5. 多语言支持

#### 模板系统规范

- **模板文件**：`index.tmpl` 作为主模板文件
- **模板语法**：使用 Go template 语法进行占位符替换
  - 文本内容占位：`{{ .I18N.xxx }}`
  - 示例：`{{ .I18N.title }}`、`{{ .I18N.description }}`
- **语言切换链接**：使用循环结构渲染多语言导航

  ```html
  {{range .LangLinks}}
  <a href="{{.URL}}">{{.DisplayName}}</a>
  {{end}}
  ```

- **样式自定义**：可根据需要调整语言切换链接的 CSS 样式

#### 语言文件管理

- **存储格式**：JSON 格式的语言包，不同语言存储为独立的 json 文件
- **文件结构**：

  ```text
  langs/
  ├── zh-CN.json    # 中文简体
  ├── en-US.json    # 英语
  ├── zh-TW.json    # 中文繁体（计划中）
  └── ja-JP.json    # 日语（计划中）
  ```

#### 支持语言

- **中文简体 (zh-CN)** → `cn.html` ✅
- **英语 (en-US)** → `en.html` ✅
- **中文繁体 (zh-TW)** 🔄 计划中
- **日语 (ja-JP)** 🔄 计划中

#### 构建系统

- **构建命令**：
  在项目根目录执行

  ```bash
  muilti-lang-gen gen .
  ```

  或者进入 outputs 目录执行

  ```bash
  cd outputs
  muilti-lang-gen gen ..
  ```

- **输出规则**：
  - 自动根据语言文件名生成对应的 HTML 文件
  - 输出路径支持 `{lang}` 占位符动态替换
- **语言切换**：✅ 切换语言为跳转独立的指定语言的 HTML 静态文件，禁用 JS 动态切换

### 6. 技术栈规划

- **基础**：Vanilla JavaScript
- **样式**：TailwindCSS
- **多语言模板**：Go template 语法 + `muilti-lang-gen` 工具

### 7. 知识普及内容

#### HTTP 基础知识模块

- **URL 结构详解**：图文并茂的 URL 组成说明
- **协议介绍**：HTTP vs HTTPS 安全性对比
- **状态码说明**：常见 HTTP 状态码含义
- **请求方法**：GET, POST, PUT, DELETE 等
- **头部字段**：常用 HTTP 头部解释
- **缓存机制**：浏览器缓存策略

#### 交互式学习

- **示例 URL 库**：预设常见 URL 类型供学习
- **实践练习**：引导用户分析不同类型 URL
- **工具提示**：hover 显示组件详细说明
- **相关链接**：链接到权威技术文档

### 8. 项目结构规划

```text
url-parser-online/
├── index.tmpl               # 主模板文件（Go template）
├── manifest.json            # 站点基础配置
├── langs/                   # 语言包目录
│   ├── index.json          # 语言索引文件
│   ├── zh-CN.json          # 中文简体语言包
│   ├── en-US.json          # 英语语言包
│   ├── zh-TW.json          # 中文繁体语言包（计划中）
│   └── ja-JP.json          # 日语语言包（计划中）
├── outputs/                 # 构建输出目录
│   ├── zh.html             # 中文版本
│   ├── en.html             # 英文版本
│   └── ...                 # 其他语言版本
```

#### 单页面组件设计原则

- **模块化布局**：所有功能模块在同一页面内通过 CSS Grid 或 Flexbox 进行布局
- **状态管理**：使用 JavaScript 管理不同区域的显示/隐藏状态
- **无弹出依赖**：所有组件都设计为页面内展示，不依赖任何弹出层技术
- **模板驱动**：界面文本通过模板系统实现多语言支持

### 9. 性能和用户体验

#### 性能优化

- **静态生成**：构建时生成所有语言版本的静态文件
- **资源压缩**：CSS/JS 压缩优化
- **CDN 部署**：静态资源 CDN 加速

#### 用户体验

- **即时反馈**：输入即时验证和解析
- **错误处理**：友好的错误提示（页面内展示，不使用弹出层）
- **空状态**：引导用户输入示例
- **加载状态**：适当的 loading 动画（内联显示）
- **单页面约束**：所有用户交互都在主页面内完成，确保流畅的用户体验

### 10. 开发计划

#### 第一阶段：基础功能

1. 设置 TailwindCSS 环境
2. 创建 `index.tmpl` 模板文件
3. 配置多语言构建系统
4. 实现基础 URL 解析功能
5. 构建响应式 UI 界面

#### 第二阶段：高级交互功能

1. 添加复制功能
2. 实现历史记录存储功能
3. 开发历史记录管理界面
4. 实现 URL 对比功能
5. 添加对比结果可视化

#### 第三阶段：多语言完善

1. 完善语言包内容
2. 测试多语言构建流程
3. 优化语言切换体验
4. 添加更多语言支持

#### 第四阶段：知识普及

1. 设计 HTTP 知识模块
2. 添加交互式学习组件
3. 集成示例 URL 库
4. 优化 SEO 和可访问性

#### 第五阶段：优化和部署

1. 性能优化和测试
2. 部署和 CDN 配置
3. 用户反馈收集
